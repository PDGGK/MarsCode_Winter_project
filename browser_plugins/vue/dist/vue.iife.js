var HEIMDALLR_VUE=function(){"use strict";var E,R,O=((E=O||{}).NAME="@heimdallr-sdk",E),C=((R=C||{})[R.FATAL=1]="FATAL",R[R.ERROR=2]="ERROR",R[R.WARN=3]="WARN",R[R.INFO=4]="INFO",R[R.DEBUG=5]="DEBUG",R),S=(E=>(E.SESSION_ID="HEIMDALLR_SDK_SESSION_ID",E.USER_ID="HEIMDALLR_SDK_USER_ID",E.APP="HEIMDALLR_SDK_APP_ID",E))(S||{}),r=(E=>(E.GET="GET",E.POST="POST",E.PUT="PUT",E.DELETE="DELETE",E))(r||{}),e=(E=>(E[E.LIFECYCLE=1]="LIFECYCLE",E[E.ERROR=2]="ERROR",E[E.PERFORMANCE=3]="PERFORMANCE",E[E.API=4]="API",E[E.DOM=5]="DOM",E[E.ROUTE=6]="ROUTE",E[E.CONSOLE=7]="CONSOLE",E[E.RECORD=8]="RECORD",E[E.VUE=9]="VUE",E[E.CUSTOMER=10]="CUSTOMER",E[E.EXTEND=11]="EXTEND",E))(e||{}),A=(E=>(E[E.CODEERROR=21]="CODEERROR",E[E.RESOURCEERROR=22]="RESOURCEERROR",E[E.UNHANDLEDREJECTION=23]="UNHANDLEDREJECTION",E[E.PAGECRASH=24]="PAGECRASH",E))(A||{}),L=(E=>(E[E.BEACON=1]="BEACON",E[E.IMG=2]="IMG",E[E.GET=3]="GET",E[E.POST=4]="POST",E))(L||{}),I=(E=>(E[E.CLICK=51]="CLICK",E))(I||{}),t=(E=>(E.LOG="log",E.INFO="info",E.WARN="warn",E.ERROR="error",E.ASSERT="assert",E))(t||{}),T=(E=>(E[E.XHR=41]="XHR",E[E.FETCH=42]="FETCH",E))(T||{}),n=(E=>(E[E.FMP=31]="FMP",E[E.FPS=32]="FPS",E[E.BASIC=33]="BASIC",E[E.VITALS=34]="VITALS",E[E.RESOURCE=35]="RESOURCE",E))(n||{}),o=(E=>(E[E.HASH=61]="HASH",E[E.HISTORY=62]="HISTORY",E))(o||{}),D=(E=>(E[E.CUSTOMER=111]="CUSTOMER",E))(D||{}),N=(E=>(E.LOCAL="local",E.SESSION="session",E.COOKIE="cookie",E.GLOBAL="global",E))(N||{}),s=(E=>(E[E.LOAD=11]="LOAD",E[E.UNLOAD=12]="UNLOAD",E))(s||{}),U=(E=>(E[E.MOBILE=1]="MOBILE",E[E.PC=2]="PC",E))(U||{}),i=(E=>(E[E.BROWSER=1]="BROWSER",E[E.WECHAT=2]="WECHAT",E[E.NODE=3]="NODE",E))(i||{}),l=(E=>(E[E.ROUTE=11]="ROUTE",E[E.CLICK=12]="CLICK",E[E.CONSOLE=13]="CONSOLE",E[E.XHR=14]="XHR",E[E.FETCH=15]="FETCH",E[E.UNHANDLEDREJECTION=16]="UNHANDLEDREJECTION",E[E.RESOURCE=17]="RESOURCE",E[E.CODE_ERROR=18]="CODE_ERROR",E[E.CUSTOMER=19]="CUSTOMER",E[E.FRAMEWORK=20]="FRAMEWORK",E[E.LIFECYCLE=21]="LIFECYCLE",E[E.CRASH=22]="CRASH",E))(l||{}),H=(E=>(E[E.API=21]="API",E[E.ROUTE=22]="ROUTE",E[E.CLICK=23]="CLICK",E[E.ERROR=24]="ERROR",E[E.LIFECYCLE=25]="LIFECYCLE",E[E.CUSTOMER=26]="CUSTOMER",E))(H||{});const a=E=>{let R=null;switch(E){case N.LOCAL:R=localStorage;break;case N.SESSION:R=sessionStorage}return R};var M,P=((M=P||{}).NAME="@heimdallr-sdk",M);const c="[@heimdallr-sdk]:";var F=(E=>(E[E.FATAL=1]="FATAL",E[E.ERROR=2]="ERROR",E[E.WARN=3]="WARN",E[E.INFO=4]="INFO",E[E.DEBUG=5]="DEBUG",E))(F||{}),u=(E=>(E.SESSION_ID="HEIMDALLR_SDK_SESSION_ID",E.USER_ID="HEIMDALLR_SDK_USER_ID",E.APP="HEIMDALLR_SDK_APP_ID",E))(u||{}),x=(E=>(E.GET="GET",E.POST="POST",E.PUT="PUT",E.DELETE="DELETE",E))(x||{}),_=(E=>(E[E.LIFECYCLE=1]="LIFECYCLE",E[E.ERROR=2]="ERROR",E[E.PERFORMANCE=3]="PERFORMANCE",E[E.API=4]="API",E[E.DOM=5]="DOM",E[E.ROUTE=6]="ROUTE",E[E.CONSOLE=7]="CONSOLE",E[E.RECORD=8]="RECORD",E[E.VUE=9]="VUE",E[E.CUSTOMER=10]="CUSTOMER",E[E.EXTEND=11]="EXTEND",E))(_||{}),g=(E=>(E[E.CODEERROR=21]="CODEERROR",E[E.RESOURCEERROR=22]="RESOURCEERROR",E[E.UNHANDLEDREJECTION=23]="UNHANDLEDREJECTION",E[E.PAGECRASH=24]="PAGECRASH",E))(g||{}),m=(E=>(E[E.BEACON=1]="BEACON",E[E.IMG=2]="IMG",E[E.GET=3]="GET",E[E.POST=4]="POST",E))(m||{}),K=(E=>(E[E.CLICK=51]="CLICK",E))(K||{}),f=(E=>(E.LOG="log",E.INFO="info",E.WARN="warn",E.ERROR="error",E.ASSERT="assert",E))(f||{}),G=(E=>(E[E.XHR=41]="XHR",E[E.FETCH=42]="FETCH",E))(G||{}),d=(E=>(E[E.FMP=31]="FMP",E[E.FPS=32]="FPS",E[E.BASIC=33]="BASIC",E[E.VITALS=34]="VITALS",E[E.RESOURCE=35]="RESOURCE",E))(d||{}),B=(E=>(E[E.HASH=61]="HASH",E[E.HISTORY=62]="HISTORY",E))(B||{}),b=(E=>(E[E.CUSTOMER=111]="CUSTOMER",E))(b||{}),p=(E=>(E.LOCAL="local",E.SESSION="session",E.COOKIE="cookie",E.GLOBAL="global",E))(p||{}),W=(E=>(E[E.LOAD=11]="LOAD",E[E.UNLOAD=12]="UNLOAD",E))(W||{}),h=(E=>(E[E.MOBILE=1]="MOBILE",E[E.PC=2]="PC",E))(h||{}),Y=(E=>(E[E.BROWSER=1]="BROWSER",E[E.WECHAT=2]="WECHAT",E[E.NODE=3]="NODE",E))(Y||{}),y=(E=>(E[E.ROUTE=11]="ROUTE",E[E.CLICK=12]="CLICK",E[E.CONSOLE=13]="CONSOLE",E[E.XHR=14]="XHR",E[E.FETCH=15]="FETCH",E[E.UNHANDLEDREJECTION=16]="UNHANDLEDREJECTION",E[E.RESOURCE=17]="RESOURCE",E[E.CODE_ERROR=18]="CODE_ERROR",E[E.CUSTOMER=19]="CUSTOMER",E[E.FRAMEWORK=20]="FRAMEWORK",E[E.LIFECYCLE=21]="LIFECYCLE",E[E.CRASH=22]="CRASH",E))(y||{}),v=(E=>(E[E.API=21]="API",E[E.ROUTE=22]="ROUTE",E[E.CLICK=23]="CLICK",E[E.ERROR=24]="ERROR",E[E.LIFECYCLE=25]="LIFECYCLE",E[E.CUSTOMER=26]="CUSTOMER",E))(v||{}),V=(E=>(E[E.ERROR=91]="ERROR",E))(V||{});var X=Object.defineProperty,k=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,j=(E,R,O)=>R in E?X(E,R,{enumerable:!0,configurable:!0,writable:!0,value:O}):E[R]=O;const $="HEIMDALLR_SDK_VUE_ERROR_CACHE";return function(E={}){return{name:"vuePlugin",monitor(R){const{vue:O}=E,{debug:C}=this.getContext();if(!O)return void console.warn(c,"Missing Vue in options");const{errorHandler:S,silent:r}=O.config;O.config.errorHandler=(E,O,e)=>{const{name:A,message:L,stack:I=""}=E;R(((E,R)=>{for(var O in R||(R={}))J.call(R,O)&&j(E,O,R[O]);if(k)for(var O of k(R))w.call(R,O)&&j(E,O,R[O]);return E})({name:A,msg:L,hook:e,stk:I,st:V.ERROR},(E=>{if(!E)return{};const[,R]=E.split("\n"),[O=""]=/([a-z|0-9|-]*).js:[0-9]*:[0-9]*/.exec(R)||[],[C,S=""]=O.split(".js:"),[r,e]=S.split(":"),A=Number(r),L=Number(e);return C&&A==A&&L==L?{lineno:A,colno:L,filename:`${C}.js`}:{}})(I))),C&&("function"==typeof S?S.call(this.vm,E,O,e):r||console.error(c,`Error in ${e}: "${I&&I.toString()}"`))}},transform(E){const R="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(E=>{const R=16*Math.random()|0;return("x"===E?R:3&R|8).toString(16)})),{hook:O,msg:C}=E;this.breadcrumb.unshift({lid:R,bt:y.FRAMEWORK,l:F.FATAL,msg:`Error in Vue/${O}: "${C}"`,t:this.getTime()});let S=((E,R,O=!0)=>{if(!E||!R)return"";const C=a(E);if(!C)return"";let S="";try{const E=R.split("."),[r]=E;S=C.getItem(r),O&&(S=JSON.parse(S),E.length>1&&(S=E.slice(1).reduce(((E,R)=>E[R]),S)))}catch(E){console.error("[@heimdallr-sdk]:",E)}return S})(p.SESSION,$);Array.isArray(S)||(S=[]);const r=(e=E,window.btoa(encodeURIComponent(JSON.stringify(e))));var e;return S.includes(r)?null:(S.push(r),((E,R,O)=>{if(!R)return;const C=a(E);C&&C.setItem(R,JSON.stringify(O))})(p.SESSION,$,S),{lid:R,t:this.getTime(),e:_.VUE,dat:E})}}}}();
